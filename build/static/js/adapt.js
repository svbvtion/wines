class DynamicAdapt{elementsArray=[];daClassname="_dynamic_adapt_";constructor(e){this.type=e}init(){this.elements=[...document.querySelectorAll("[data-da]")],this.elements.forEach((e=>{const a=e.dataset.da.trim();if(""!==a){const t=a.split(","),i={};i.element=e,i.parent=e.parentNode,i.destination=document.querySelector("."+t[0].trim()),i.breakpoint=t[1]?t[1].trim():"767",i.place=t[2]?t[2].trim():"last",i.index=this.indexInParent(i.parent,i.element),this.elementsArray.push(i)}})),this.arraySort(this.elementsArray),this.mediaArray=this.elementsArray.map((({breakpoint:e})=>`(${this.type}-width: ${e}px),${e}`)).filter(((e,a,t)=>t.indexOf(e)===a)),this.mediaArray.forEach((e=>{const a=e.split(","),t=window.matchMedia(a[0]),i=a[1],n=this.elementsArray.filter((({breakpoint:e})=>e===i));t.addEventListener("change",(()=>{this.mediaHandler(t,n)})),this.mediaHandler(t,n)}))}mediaHandler(e,a){e.matches?a.forEach((e=>{e.index=this.indexInParent(e.parent,e.element),this.moveTo(e.place,e.element,e.destination)})):a.forEach((({parent:e,element:a,index:t})=>{a.classList.contains(this.daClassname)&&this.moveBack(e,a,t)}))}moveTo(e,a,t){a.classList.add(this.daClassname),"last"===e||e>=t.children.length?t.append(a):"first"!==e?t.children[e].before(a):t.prepend(a)}moveBack(e,a,t){a.classList.remove(this.daClassname),void 0!==e.children[t]?e.children[t].before(a):e.append(a)}indexInParent(e,a){return[...e.children].indexOf(a)}arraySort(e){"min"===this.type?e.sort(((e,a)=>e.breakpoint===a.breakpoint?e.place===a.place?0:"first"===e.place||"last"===a.place?-1:"last"===e.place||"first"===a.place?1:e.place-a.place:e.breakpoint-a.breakpoint)):e.sort(((e,a)=>e.breakpoint===a.breakpoint?e.place===a.place?0:"first"===e.place||"last"===a.place?1:"last"===e.place||"first"===a.place?-1:a.place-e.place:a.breakpoint-e.breakpoint))}}const da=new DynamicAdapt("max");da.init();